(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d55a","chunk-0fb6","chunk-e88b"],{"36x9":function(t,e,o){"use strict";var a=o("lgbG");o.n(a).a},"7LNb":function(t,e,o){},Ko2T:function(t,e,o){"use strict";var a=o("uWsn");o.n(a).a},LxGK:function(t,e,o){"use strict";o.d(e,"a",function(){return n}),o.d(e,"c",function(){return r}),o.d(e,"b",function(){return s});var a=o("t3Un");function n(){return Object(a.a)({url:"api/email",method:"get"})}function r(t){return Object(a.a)({url:"api/email",data:t,method:"put"})}function s(t){return Object(a.a)({url:"api/email",data:t,method:"post"})}},V3JU:function(t,e,o){"use strict";o.r(e);var a=o("leE3"),n=o("gVYw"),r=(o("zkOn"),{components:{Config:a.default,Send:n.default},data:function(){return{activeName:"second"}}}),s=(o("pgWg"),o("KHd+")),i=Object(s.a)(r,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-tabs",{staticStyle:{"padding-left":"5px"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"邮箱配置",name:"first"}},[o("Config")],1),t._v(" "),o("el-tab-pane",{attrs:{label:"发送邮件",name:"second"}},[o("Send")],1),t._v(" "),o("el-tab-pane",{attrs:{label:"使用说明",name:"third"}},[o("div",[o("blockquote",{staticClass:"my-blockquote"},[t._v(" 邮件服务器配置")]),t._v(" "),o("pre",{staticClass:"my-code"},[t._v("# 邮件服务器的SMTP地址，可选，默认为smtp\n# 邮件服务器的SMTP端口，可选，默认465或者25\n# 发件人（必须正确，否则发送失败）\n# 用户名，默认为发件人邮箱前缀\n# 密码（注意，某些邮箱需要为SMTP服务单独设置密码，如QQ和163等等）\n# 是否开启ssl，默认开启")]),t._v(" "),o("blockquote",{staticClass:"my-blockquote"},[t._v("更多帮助")]),t._v(" "),o("pre",{staticClass:"my-code"},[t._v("更多帮助请查看文档："),o("a",{staticStyle:{color:"#009688"},attrs:{href:"http://hutool.mydoc.io/#text_319499",target:"_black"}},[t._v("hutool工具包")])])])])],1)},[],!1,null,"00b305f6",null);i.options.__file="index.vue";e.default=i.exports},Yfch:function(t,e,o){"use strict";function a(t){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(t)}o.d(e,"a",function(){return a})},gVYw:function(t,e,o){"use strict";o.r(e);var a=o("QbLZ"),n=o.n(a),r=o("L2JU"),s=o("X4fA"),i=o("LxGK"),l=o("Yfch"),u=o("GguQ"),c=o.n(u),m={name:"Index",data:function(){return{headers:{Authorization:"Bearer "+Object(s.a)()},loading:!1,form:{subject:"",tos:[],content:""},tos:[{value:""}],rules:{subject:[{required:!0,message:"标题不能为空",trigger:"blur"}]}}},computed:n()({},Object(r.b)(["imagesUploadApi","qiNiuUploadApi"])),mounted:function(){var t=this,e=new c.a(this.$refs.editor);e.customConfig.uploadImgShowBase64=!0,e.customConfig.uploadImgHeaders=this.headers,e.customConfig.uploadFileName="file",e.customConfig.uploadImgServer=this.imagesUploadApi,e.customConfig.onchange=function(e){t.form.content=e},e.create()},methods:{removeDomain:function(t){var e=this.tos.indexOf(t);-1!==e&&1!==this.tos.length?this.tos.splice(e,1):this.$message({message:"请至少保留一位联系人",type:"warning"})},addDomain:function(){this.tos.push({value:"",key:Date.now()})},doSubmit:function(){var t=this,e=this;this.$refs.form.validate(function(o){if(t.form.tos=[],!o)return!1;var a=!1;if(t.tos.forEach(function(t,o){""===t.value?(e.$message({message:"收件邮箱不能为空",type:"warning"}),a=!0):Object(l.a)(t.value)?e.form.tos.push(t.value):(e.$message({message:"收件邮箱格式错误",type:"warning"}),a=!0)}),a)return!1;t.loading=!0,Object(i.b)(t.form).then(function(e){t.$notify({title:"发送成功",type:"success",duration:2500}),t.loading=!1}).catch(function(e){t.loading=!1,console.log(e.response.data.message)})})}}},f=(o("Ko2T"),o("KHd+")),d=Object(f.a)(m,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-form",{ref:"form",staticStyle:{"margin-top":"6px"},attrs:{model:t.form,rules:t.rules,size:"small","label-width":"100px"}},[o("el-form-item",{attrs:{label:"邮件标题",prop:"subject"}},[o("el-input",{staticStyle:{width:"40%"},model:{value:t.form.subject,callback:function(e){t.$set(t.form,"subject",e)},expression:"form.subject"}})],1),t._v(" "),t._l(t.tos,function(e,a){return o("el-form-item",{key:e.key,attrs:{label:"收件邮箱"+(0===a?"":a)}},[o("el-input",{staticStyle:{width:"31%"},model:{value:e.value,callback:function(o){t.$set(e,"value",o)},expression:"domain.value"}}),t._v(" "),o("el-button",{attrs:{icon:"el-icon-plus"},on:{click:t.addDomain}}),t._v(" "),o("el-button",{staticStyle:{"margin-left":"0px"},attrs:{icon:"el-icon-minus"},on:{click:function(o){o.preventDefault(),t.removeDomain(e)}}})],1)}),t._v(" "),o("div",{ref:"editor",staticClass:"editor"}),t._v(" "),o("el-button",{staticStyle:{"margin-left":"1.6%"},attrs:{loading:t.loading,size:"medium",type:"primary"},on:{click:t.doSubmit}},[t._v("发送邮件")])],2)],1)},[],!1,null,"7055a7f1",null);d.options.__file="send.vue";e.default=d.exports},leE3:function(t,e,o){"use strict";o.r(e);var a=o("LxGK"),n={name:"Config",data:function(){return{loading:!1,form:{id:1,fromUser:"",user:"",pass:"",host:"",port:"",sslEnable:""},rules:{fromUser:[{required:!0,message:"请输入发件人邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],user:[{required:!0,message:"请输入发件用户名",trigger:"blur"}],pass:[{required:!0,message:"密码不能为空",trigger:"blur"}],host:[{required:!0,message:"SMTP地址不能为空",trigger:"blur"}],port:[{required:!0,message:"SMTP端口不能为空",trigger:"blur"}]}}},created:function(){this.init()},methods:{init:function(){var t=this;Object(a.a)().then(function(e){t.form=e})},doSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return!1;t.loading=!0,Object(a.c)(t.form).then(function(e){t.$notify({title:"修改成功",type:"success",duration:2500}),t.loading=!1}).catch(function(e){t.loading=!1,console.log(e.response.data.message)})})}}},r=(o("36x9"),o("KHd+")),s=Object(r.a)(n,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-form",{ref:"form",staticStyle:{"margin-top":"6px"},attrs:{model:t.form,rules:t.rules,size:"small","label-width":"100px"}},[o("el-form-item",{attrs:{label:"发件人邮箱",prop:"fromUser"}},[o("el-input",{staticStyle:{width:"40%"},model:{value:t.form.fromUser,callback:function(e){t.$set(t.form,"fromUser",e)},expression:"form.fromUser"}}),t._v(" "),o("span",{staticStyle:{color:"#C0C0C0","margin-left":"10px"}},[t._v("Sender mailbox")])],1),t._v(" "),o("el-form-item",{attrs:{label:"发件用户名",prop:"user"}},[o("el-input",{staticStyle:{width:"40%"},model:{value:t.form.user,callback:function(e){t.$set(t.form,"user",e)},expression:"form.user"}}),t._v(" "),o("span",{staticStyle:{color:"#C0C0C0","margin-left":"10px"}},[t._v("Sender usernamex")])],1),t._v(" "),o("el-form-item",{attrs:{label:"邮箱密码",prop:"pass"}},[o("el-input",{staticStyle:{width:"40%"},attrs:{type:"password"},model:{value:t.form.pass,callback:function(e){t.$set(t.form,"pass",e)},expression:"form.pass"}}),t._v(" "),o("span",{staticStyle:{color:"#C0C0C0","margin-left":"10px"}},[t._v("email Password")])],1),t._v(" "),o("el-form-item",{attrs:{label:"SMTP地址",prop:"host"}},[o("el-input",{staticStyle:{width:"40%"},model:{value:t.form.host,callback:function(e){t.$set(t.form,"host",e)},expression:"form.host"}}),t._v(" "),o("span",{staticStyle:{color:"#C0C0C0","margin-left":"10px"}},[t._v("SMTP address")])],1),t._v(" "),o("el-form-item",{attrs:{label:"SMTP端口",prop:"port"}},[o("el-input",{staticStyle:{width:"40%"},model:{value:t.form.port,callback:function(e){t.$set(t.form,"port",e)},expression:"form.port"}}),t._v(" "),o("span",{staticStyle:{color:"#C0C0C0","margin-left":"10px"}},[t._v("SMTP port")])],1),t._v(" "),o("el-form-item",{attrs:{label:""}},[o("el-button",{attrs:{loading:t.loading,size:"medium",type:"primary"},on:{click:t.doSubmit}},[t._v("保存配置")])],1)],1)},[],!1,null,"0a022790",null);s.options.__file="config.vue";e.default=s.exports},lgbG:function(t,e,o){},pgWg:function(t,e,o){"use strict";var a=o("7LNb");o.n(a).a},uWsn:function(t,e,o){},zkOn:function(t,e,o){}}]);