(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-20f0"],{MgkO:function(t,e,n){"use strict";n.r(e);var i=n("QbLZ"),a=n.n(i),o=n("vDqi"),r=n.n(o),s=n("L2JU"),c=n("X4fA"),d=n("NLix"),u={name:"Markdown",data:function(){return{height:document.documentElement.clientHeight-200+"px",data:null,images:{}}},computed:a()({},Object(s.b)(["imagesUploadApi"])),mounted:function(){this.$refs.md.$refs.toolbar_left.img_file=[];var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-200+"px"}},methods:{imgAdd:function(t,e){var n=this,i=new FormData;i.append("file",e),r()({url:this.imagesUploadApi,method:"post",data:i,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+Object(c.a)()}}).then(function(e){n.data=e.data,n.$refs.md.$img2Url(t,n.data.data[0]),n.images[n.data.data[0]]=n.data}).catch(function(e){console.log("image upload error",e),n.$refs.md.$refs.toolbar_left.$imgDel(t)})},imgDel:function(t,e){var n=this.images[t[1]];n&&Object(d.a)(n.id).then(function(t){}).catch(function(t){console.log(t.response.data.message)})}}},l=(n("t0r7"),n("KHd+")),m=Object(l.a)(u,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-container"},[this._m(0),this._v(" "),e("mavon-editor",{ref:"md",style:"height:"+this.height,on:{imgAdd:this.imgAdd,imgDel:this.imgDel}})],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"warn-content"},[this._v("\n    Markdown 基于\n    "),e("a",{attrs:{href:"https://github.com/hinesboy/mavonEditor",target:"_blank"}},[this._v("mavonEditor")])])}],!1,null,"5167ac46",null);m.options.__file="MarkDown.vue";e.default=m.exports},NLix:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return o});var i=n("t3Un");function a(t){return Object(i.a)({url:"api/pictures/"+t,method:"delete"})}function o(t){return Object(i.a)({url:"api/pictures/",method:"delete",data:t})}},VFdt:function(t,e,n){},t0r7:function(t,e,n){"use strict";var i=n("VFdt");n.n(i).a}}]);