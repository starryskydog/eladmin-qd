(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5c96","chunk-3f7e"],{"14Xm":function(t,e,a){t.exports=a("ls82")},"1e0s":function(t,e,a){},"1tk0":function(t,e,a){"use strict";a.r(e);var n=a("3ADX"),o=a("t3Un");var i={name:"Generator",mixins:[n.a],props:{name:{type:String,required:!0}},data:function(){return{genLoading:!1,dialog:!1,columnQuery:""}},methods:{toGen:function(){var t=this;this.dialog=!0,this.time=130,this.$nextTick(function(){t.init()})},beforeInit:function(){this.url="api/generator/columns";var t=this.name;return this.params={tableName:t},!0},cancel:function(){this.dialog=!1},doSubmit:function(){var t=this;this.genLoading=!0,function(t,e){return Object(o.a)({url:"api/generator?tableName="+e,data:t,method:"post"})}(this.data,this.name).then(function(e){t.$notify({title:"生成成功",type:"success",duration:2500}),t.dialog=!1,t.genLoading=!1}).catch(function(e){t.dialog=!1,t.genLoading=!1,console.log(e.response.data.message)})}}},r=(a("e7KL"),a("KHd+")),l=Object(r.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.toGen}},[t._v("生成代码")]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialog,title:"代码生成配置","append-to-body":"",width:"800px"},on:{"update:visible":function(e){t.dialog=e}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.data,size:"small"}},[a("el-table-column",{attrs:{label:"序号",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.$index+1))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"columnName",label:"字段名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"columnType",label:"字段类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"columnComment",label:"字段标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticClass:"edit-input",model:{value:t.data[e.$index].columnComment,callback:function(a){t.$set(t.data[e.$index],"columnComment",a)},expression:"data[scope.$index].columnComment"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"查询方式"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticClass:"edit-input",attrs:{clearable:"",placeholder:"请选择"},model:{value:t.data[e.$index].columnQuery,callback:function(a){t.$set(t.data[e.$index],"columnQuery",a)},expression:"data[scope.$index].columnQuery"}},[a("el-option",{attrs:{label:"模糊查询",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"精确查询",value:"2"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"columnShow",label:"列表显示"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{attrs:{content:"true"===e.row.columnShow?"显示":"不显示",placement:"top"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"true","inactive-value":"false"},model:{value:t.data[e.$index].columnShow,callback:function(a){t.$set(t.data[e.$index],"columnShow",a)},expression:"data[scope.$index].columnShow"}})],1)]}}])})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{loading:t.genLoading,type:"primary"},on:{click:t.doSubmit}},[t._v("生成")])],1)],1)],1)},[],!1,null,null,null);l.options.__file="generator.vue";e.default=l.exports},"3ADX":function(t,e,a){"use strict";var n=a("14Xm"),o=a.n(n),i=a("4d7F"),r=a.n(i),l=a("D3Ub"),s=a.n(l),u=a("t3Un");function c(t,e){return Object(u.a)({url:t,method:"get",params:e})}e.a={data:function(){return{loading:!0,data:[],page:0,size:10,total:0,url:"",params:{},query:{},time:170,isAdd:!1}},methods:{init:function(){var t=this;return s()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.beforeInit();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.abrupt("return",new r.a(function(e,a){t.loading=!0,c(t.url,t.params).then(function(a){t.total=a.totalElements,t.data=a.content,setTimeout(function(){t.loading=!1},t.time),e(a)}).catch(function(e){t.loading=!1,a(e)})}));case 5:case"end":return e.stop()}},e,t)}))()},beforeInit:function(){return!0},pageChange:function(t){this.page=t-1,this.init()},sizeChange:function(t){this.page=0,this.size=t,this.init()},dleChangePage:function(t){void 0===t&&(t=1),this.data.length===t&&0!==this.page&&(this.page=this.page-1)},toQuery:function(){this.page=0,this.init()}}}},"932I":function(t,e,a){},D3Ub:function(t,e,a){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(a("4d7F"));e.default=function(t){return function(){var e=t.apply(this,arguments);return new n.default(function(t,a){return function o(i,r){try{var l=e[i](r),s=l.value}catch(t){return void a(t)}if(!l.done)return n.default.resolve(s).then(function(t){o("next",t)},function(t){o("throw",t)});t(s)}("next")})}}},F0MO:function(t,e,a){"use strict";var n=a("1e0s");a.n(n).a},U9al:function(t,e,a){"use strict";a.r(e);var n=a("t3Un");var o=a("3ADX"),i=a("7Qib"),r={components:{Generator:a("1tk0").default},mixins:[o.a],data:function(){return{loading:!1,dialog:!1,form:{author:"",pack:"",path:"",moduleName:"",cover:"false",apiPath:"",prefix:""},rules:{author:[{required:!0,message:"作者不能为空",trigger:"blur"}],pack:[{required:!0,message:"包路径不能为空",trigger:"blur"}],moduleName:[{required:!0,message:"包路径不能为空",trigger:"blur"}],path:[{required:!0,message:"前端代码生成路径不能为空",trigger:"blur"}],apiPath:[{required:!0,message:"前端Api文件生成路径不能为空",trigger:"blur"}],cover:[{required:!0,message:"不能为空",trigger:"blur"}]}}},created:function(){var t=this;this.$nextTick(function(){t.init()})},methods:{parseTime:i.d,beforeInit:function(){this.url="api/generator/tables";var t=this.query.name;return this.params={page:this.page,size:this.size},t&&(this.params.name=t),!0},openConfig:function(){var t=this;Object(n.a)({url:"api/genConfig",method:"get"}).then(function(e){t.form=e,t.form.cover=t.form.cover.toString()}),this.dialog=!0},cancel:function(){this.resetForm()},doSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return!1;t.loading=!0,t.doUpdate()})},doUpdate:function(){var t=this;(function(t){return Object(n.a)({url:"api/genConfig",data:t,method:"put"})})(this.form).then(function(e){t.resetForm(),t.$notify({title:"更新成功",type:"success",duration:2500}),t.loading=!1}).catch(function(e){t.loading=!1,console.log(e.response.data.message)})},resetForm:function(){this.dialog=!1,this.$refs.form.resetFields(),this.form={author:"",pack:"",path:"",moduleName:"",cover:"false",apiPath:"",prefix:""}}}},l=(a("F0MO"),a("KHd+")),s=Object(l.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"head-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入表名"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.toQuery(e):null}},model:{value:t.query.name,callback:function(e){t.$set(t.query,"name",e)},expression:"query.name"}}),t._v(" "),a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"success",icon:"el-icon-search"},on:{click:t.toQuery}},[t._v("搜索")]),t._v(" "),a("div",{staticStyle:{display:"inline-block",margin:"0px 2px"}},[a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"warning",icon:"el-icon-setting"},on:{click:t.openConfig}},[t._v("生成器配置")])],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialog,title:"生成器配置","append-to-body":"",width:"550px"},on:{"update:visible":function(e){t.dialog=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,size:"small","label-width":"78px"}},[a("el-form-item",{attrs:{label:"作者名称",prop:"author"}},[a("el-input",{staticStyle:{width:"420px"},model:{value:t.form.author,callback:function(e){t.$set(t.form,"author",e)},expression:"form.author"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"去表前缀",prop:"prefix"}},[a("el-input",{staticStyle:{width:"420px"},attrs:{placeholder:"默认不去除表前缀"},model:{value:t.form.prefix,callback:function(e){t.$set(t.form,"prefix",e)},expression:"form.prefix"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"模块名称",prop:"moduleName"}},[a("el-input",{staticStyle:{width:"420px"},model:{value:t.form.moduleName,callback:function(e){t.$set(t.form,"moduleName",e)},expression:"form.moduleName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"至于包下",prop:"pack"}},[a("el-input",{staticStyle:{width:"420px"},model:{value:t.form.pack,callback:function(e){t.$set(t.form,"pack",e)},expression:"form.pack"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"前端路径",prop:"path"}},[a("el-input",{staticStyle:{width:"420px"},model:{value:t.form.path,callback:function(e){t.$set(t.form,"path",e)},expression:"form.path"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"API路径",prop:"apiPath"}},[a("el-input",{staticStyle:{width:"420px"},model:{value:t.form.apiPath,callback:function(e){t.$set(t.form,"apiPath",e)},expression:"form.apiPath"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否覆盖",prop:"cover"}},[a("el-radio",{attrs:{label:"true"},model:{value:t.form.cover,callback:function(e){t.$set(t.form,"cover",e)},expression:"form.cover"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:"false"},model:{value:t.form.cover,callback:function(e){t.$set(t.form,"cover",e)},expression:"form.cover"}},[t._v("否")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.doSubmit}},[t._v("确认")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.data,size:"small"}},[a("el-table-column",{attrs:{label:"序号",width:"85",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.$index+1))])]}}])}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"tableName",label:"表名"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"engine",label:"数据库引擎"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"coding",label:"字符编码集"}}),t._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"remark",label:"备注"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.parseTime(e.row.createTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"140px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("Generator",{attrs:{name:t.row.tableName}})]}}])})],1),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"8px"},attrs:{total:t.total,"current-page":t.page+1,layout:"total, prev, pager, next, sizes"},on:{"size-change":t.sizeChange,"current-change":t.pageChange}})],1)},[],!1,null,"59fca673",null);s.options.__file="index.vue";e.default=s.exports},e7KL:function(t,e,a){"use strict";var n=a("932I");a.n(n).a}}]);